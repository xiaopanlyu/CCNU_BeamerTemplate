%% FileName    : ccnu.sty
%% Author      : Kang Jin-Wen <kangjinwen@mails.ccnu.edu.cn>
%% Created     : Thu Nov 19 21:41 2016 by Kang Jin-Wen
%% Copyright   :  (c) 2016
%% Description : Beamer for CCNU
%% Time-stamp: <2016-11-19 21:41>
%%
%%      ::::::::       ::::::::       ::::    :::      :::    :::
%%      :+:    :+:     :+:    :+:      :+:+:   :+:      :+:    :+:
%%      +:+            +:+             :+:+:+  +:+      +:+    +:+
%%      +#+            +#+             +#+ +:+ +#+      +#+    +:+
%%      +#+            +#+             +#+  +#+#+#      +#+    +#+
%%      #+#    #+#     #+#    #+#      #+#   #+#+#      #+#    #+#
%%      ########       ########       ###    ####       ########

% Copyright 2009 by Pim Vullers
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.

%--------------------------------------------------------
% Require packages
%--------------------------------------------------------
\usepackage{tikz}% tikz to do some text positioning
\usefonttheme{professionalfonts}%serif,avant,bookman,chancery,chartereuler,helvet,mathtime,mathptm,mathptmxnewcent,palatino,pifont,utopia
%

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Inherit definitions from existing themes (DO NOT MODIFY THESE)
%======================================================================================================================
\useoutertheme{split}% Layout scheme for outer elements: split header and footer
\usecolortheme{whale}% Color scheme for outer elements: use background colors
\useinnertheme{rounded}% Layout scheme for inner elements: rounded elements
\usecolortheme{orchid}% Color scheme for inner elements: use foreground colors
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Tweak definitions of inner theme to match personal preferences (MODIFY THESE)
%======================================================================================================================
\setbeamertemplate{itemize items}[circle]% Itemize items: default (triangle), circle, square, ball
\setbeamertemplate{enumerate items}[circle]% Enumerate items: default, circle, square, ball
\setbeamertemplate{sections/subsections in toc}[default]% Outline: default, sections numbered, subsections numbered, circle, square, ball, ball unnumbered
\setbeamertemplate{blocks}[rounded]% General blocks:
%\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]% Title page:
\setbeamertemplate{part page}[default][colsep=-4bp,rounded=true]% Part page:
% \setbeamertemplate{navigation symbols}{}% Navigation symbols:
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% defining colors for the center-controlling of the theme
%======================================================================================================================
\definecolor{myfoot}{rgb}{0.5,0.2,0.5}
\definecolor{darkblue}{rgb}{0.1,0,0.85}
\definecolor{ccnublue}{RGB}{18,149,216}%华大蓝
\definecolor{ccnugreen}{RGB}{0,98,109}%华大绿
\definecolor{ccnuorange}{RGB}{241,139,46}%华大橙
\definecolor{nercelblue}{RGB}{4,96,183}%NERCEL蓝
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Set font sizes
%======================================================================================================================
\setbeamerfont{frametitle}{size=\large,series=\bfseries}
\setbeamerfont{title}{size=\large,series=\bfseries}
\setbeamerfont{author}{size=\normalsize}
\setbeamerfont{institute}{size=\normalsize}
\setbeamerfont{date}{size=\normalsize}
\setbeamerfont{subtitle}{size=\footnotesize,series=\bfseries}
\setbeamerfont{block title}{size=\normalsize,series=\bfseries}
\setbeamerfont{structure}{size=\normalsize,series=\bfseries}

\setbeamertemplate{itemize item}{\scriptsize\raise1.25pt\hbox{\textbullet}}
\setbeamertemplate{itemize subitem}{\scriptsize\raise1.25pt\hbox{\textbullet}}
\setbeamertemplate{itemize subsubitem}{\scriptsize\raise1.25pt\hbox{\textbullet}}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Tweak definitions of outer theme to match Radboud (website) style
%======================================================================================================================
% Background 设置整个frame的背景图片
\pgfdeclareimage[width=\paperwidth,height=\paperheight]{bg}{res/ccnu_background}
%\setbeamertemplate{background}{\pgfuseimage{bg}}

% Colors 设置主题颜色
%\usecolortheme[RGB={182,11,45}]{structure}%red
%\usecolortheme[RGB={0,98,109}]{structure}%green
%\usecolortheme[RGB={18,149,216}]{structure}%blue


% frametitle 设置页面标题的前景和背景颜色
\setbeamercolor{frametitle}{fg=red,bg=white}

%\setbeamertemplate{frametitle}{%在标题下方设置分割线
%  \leavevmode\linespread{1}\large\textbf{\insertframetitle}\par
%  \color{green!50}\rule[8pt]{\linewidth}{2pt}\par\vspace{-1.2em}}

% frametitle 设置页面标题的前景和背景渐变
%\setbeamercolor{frametitle}{parent=subsection in head/foot}
%\setbeamercolor{frametitle right}{parent=section in head/foot}
%\pgfdeclarehorizontalshading[frametitle.bg,frametitle right.bg]{beamer@frametitleshade}{\paperheight}{%
%  color(0pt)=(frametitle.bg);
%  color(\paperwidth)=(frametitle right.bg)}
%\AtBeginDocument{
%  \pgfdeclareverticalshading{beamer@topshade}{\paperwidth}{%
%    color(0pt)=(bg);
%    color(4pt)=(black!50!bg)}}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Set element colours,设置一些元素的颜色  蓝色盒子|红色盒子|蓝线框|红线框
%======================================================================================================================
\setbeamercolor{f_black_b_blue_box}{fg=black,bg=blue}
\setbeamercolor{f_black_b_white_box}{fg=black,bg=white}
\setbeamercolor{f_blue_b_white_box}{fg=black,bg=white}
\setbeamercolor{f_white_b_ccnublue_box}{fg=white,bg=ccnublue}
\setbeamercolor{f_white_b_black_box}{fg=white,bg=black}
\setbeamercolor{f_black_b_red_box}{fg=black,bg=red}
\setbeamercolor{redbox}{fg=black,bg=red}
\newenvironment{Boxblue}[1][\textwidth]
  {\begin{beamercolorbox}[sep=0.1em,shadow=true,wd=#1,rounded=true,center]{bluebox}}
  {\end{beamercolorbox}}
\newenvironment{Boxred}[1][\textwidth]
  {\begin{beamercolorbox}[sep=0.1em,shadow=true,wd=#1,rounded=true,center]{redbox}}
  {\end{beamercolorbox}}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% Define title page
%======================================================================================================================
\setbeamertemplate{title page}{%
	\@tempdimb=4ex
	\pgfdeclareimage[height=1.\@tempdimb]{ccnu_logo_title}{res/ccnu_logo_title.png}%
	\pgfdeclareimage[height=1.\@tempdimb]{nercel_logo_title}{res/nercel_logo_title.png}%
	\begin{beamercolorbox}[right,wd=\paperwidth,ht=.2\paperheight,rightskip=0.05\paperwidth]{f_black_b_white_box}
		\vbox to\@tempdimb{\vfil\pgfuseimage{nercel_logo_title}\vfil}%
		\vskip15pt
	\end{beamercolorbox}
	
	\begin{beamercolorbox}[left,leftskip=0.05\paperwidth,wd=\paperwidth,ht=.1\paperheight]{f_white_b_ccnublue_box}
		\tikz{
			\node[inner sep=0cm, text width=\paperwidth, minimum height=.05\paperheight,text badly ragged]{
				\usebeamerfont{title}\inserttitle
			};
		}%
		\vskip2pt
	\end{beamercolorbox}%
	
	\nointerlineskip%
	\vskip-1pt%
	
	\begin{beamercolorbox}[left,leftskip=0.05\paperwidth,wd=\paperwidth,ht=.5\paperheight]{f_white_b_ccnublue_box}
		\usebeamerfont{author}\insertauthor\\
		\vskip15pt
		\usebeamerfont{institute}\insertinstitute\\
		\vskip15pt
		\usebeamerfont{date}\insertdate
		\vskip20pt
	\end{beamercolorbox}%
		
	\begin{beamercolorbox}[center,wd=\paperwidth,ht=.2\paperheight,]{f_white_b_ccnublue_box}
		\vbox to\@tempdimb{
			\vfil\pgfuseimage{ccnu_logo_title}\vfil
		}%
		\vskip20pt
	\end{beamercolorbox}
}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% 设置页眉 headline: navigation | LOGO_TITLE |
%======================================================================================================================
\defbeamertemplate*{headline}{ccnu theme}{%
	\leavevmode%
	%\@tempdimb=3.4375ex%
	\@tempdimb=2em%
	%\multiply\@tempdimb by\beamer@sectionmax%
	\pgfdeclareimage[height=.95\@tempdimb]{logo}{res/ccnu_logo.png}%
	\pgfdeclareimage[height=1.\@tempdimb]{title_logo}{res/ccnu_title.png}%
	\pgfdeclareimage[height=1.\@tempdimb]{logo_title}{res/ccnu_logo_title.png}%
	\hbox{%
	\begin{beamercolorbox}[wd=.9\paperwidth,ht=\@tempdimb]{f_white_b_ccnublue_box}%
	\vbox to\@tempdimb{\vfil\insertsectionnavigationhorizontal{.5\textwidth}{\hskip0pt plus1filll}{}\vfil}%
	\end{beamercolorbox}%
	%\begin{beamercolorbox}[wd=.065\paperwidth,ht=\@tempdimb,center]{ccnubluebox}%
	%  \vbox to\@tempdimb{\vfil\insertlogo\vfil\vfil}%
	%\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=.1\paperwidth,ht=\@tempdimb,center]{f_white_b_ccnublue_box}%
	\vbox to\@tempdimb{\vfil\pgfuseimage{logo_title}\vfil}%
	\end{beamercolorbox}}%
	\vskip0pt%
}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

%begin>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%%% 设置页脚 Footline: AUTHOR | TITLE | DATE FRAMENUMBER
%======================================================================================================================
\defbeamertemplate*{footline}{ccnu theme}{%
	\leavevmode%
	\@tempdimb=1em%
	\hbox{%
	\begin{beamercolorbox}[wd=.25\paperwidth,ht=1.\@tempdimb,dp=1ex,center]{f_black_b_red_box}%
	  \usebeamerfont{author in head/foot}\insertshortauthor
	\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=.25\paperwidth,ht=1.\@tempdimb,dp=1ex,center]{f_black_b_red_box}%
	  \usebeamerfont{author in head/foot}\insertshortdate
	\end{beamercolorbox}%
	%\begin{beamercolorbox}[wd=.5\paperwidth,ht=1.\@tempdimb,dp=1ex,center]{f_black_b_red_box}%
	%\usebeamerfont{title in head/foot}
	%\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=.435\paperwidth,ht=1.\@tempdimb,dp=1ex,center]{f_white_b_black_box}%
	\usebeamerfont{title in head/foot}\insertshorttitle
	\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=0.065\paperwidth,ht=1.\@tempdimb,dp=1ex,right]{f_white_b_black_box}%
	\insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
	\end{beamercolorbox}}%
	\vskip0pt%
}
%end<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


